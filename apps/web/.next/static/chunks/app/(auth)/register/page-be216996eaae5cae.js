(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{2290:(e,t,r)=>{Promise.resolve().then(r.bind(r,7522))},2390:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>l,_q:()=>d,rU:()=>u});var a=r(8527),s=r(8914);let n=async e=>{let{data:t}=await s.u.post("/auth/signin",e);return t},o=async e=>{let{data:t}=await s.u.post("/auth/signup",e);return t},i=async()=>{let{data:e}=await s.u.post("/auth/signout");return e},l=e=>(0,a.n)({mutationKey:["auth","signin"],mutationFn:n,...e}),u=e=>(0,a.n)({mutationKey:["auth","signup"],mutationFn:o,...e}),d=e=>(0,a.n)({mutationKey:["auth","signout"],mutationFn:i,...e})},7522:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(9611),s=r(2390),n=r(6475),o=r.n(n),i=r(6796),l=r(8011),u=r(338);let d=()=>{let[e,t]=(0,l.useState)({email:"",name:"",password:"",adminCode:""}),r=(0,i.useRouter)(),n=(0,s.rU)({onSuccess:e=>{u.oR.success("Registration successful! Please sign in with your credentials."),r.push("/login")},onError:()=>{u.oR.error("An error occurred during registration")}});return(0,a.jsxs)("form",{className:"flex flex-col gap-chat-gutter w-[100%] md:w-auto p-chat-outer",onSubmit:t=>{if(t.preventDefault(),!e.email||!e.password||!e.name)return void u.oR.error("Please fill in all required fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return void u.oR.error("Please enter a valid email address");if(e.password.length<6)return void u.oR.error("Password must be at least 6 characters long");let r={email:e.email,password:e.password,username:e.name,...e.adminCode&&{adminCode:e.adminCode}};n.mutate(r)},children:[(0,a.jsx)("div",{className:"flex flex-col gap-3 items-center",children:(0,a.jsx)("h1",{className:"text-xl font-medium text-white",children:"Create an account"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-400",children:"EMAIL"}),(0,a.jsx)("input",{className:"w-auto md:w-[450px] outline-none p-3 bg-primary-black text-white rounded-chat border border-chat-border focus:border-chat-primary transition-colors",name:"email",type:"email",required:!0,value:e.email,onChange:r=>t({...e,email:r.target.value})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-400",children:"NAME"}),(0,a.jsx)("input",{className:"w-auto md:w-[450px] outline-none p-3 bg-primary-black text-white rounded-chat border border-chat-border focus:border-chat-primary transition-colors",name:"name",type:"text",required:!0,value:e.name,onChange:r=>t({...e,name:r.target.value})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-400",children:"PASSWORD"}),(0,a.jsx)("input",{className:"w-auto md:w-[450px] outline-none p-3 bg-primary-black text-white rounded-chat border border-chat-border focus:border-chat-primary transition-colors",name:"password",type:"password",required:!0,value:e.password,onChange:r=>t({...e,password:r.target.value})})]}),(0,a.jsx)("button",{type:"submit",className:"bg-chat-primary text-white py-3 rounded-chat font-medium hover:bg-chat-secondary transition-colors disabled:opacity-50",disabled:n.isPending,children:n.isPending?"Loading...":"Continue"}),(0,a.jsx)("div",{className:"text-xs flex items-center gap-1 font-normal",children:(0,a.jsx)(o(),{href:"/login",children:(0,a.jsx)("p",{className:"text-chat-accent hover:underline hover:underline-offset-1",children:"Already have an account?"})})})]})}},8914:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});let a=r(2159).A.create({baseURL:"http://localhost:8080/api/v1",timeout:1e4,withCredentials:!0}),s=!1,n=[],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.forEach(r=>{e?r.reject(e):r.resolve(t)}),n=[]};a.interceptors.request.use(e=>e,e=>{throw console.error("\uD83D\uDEA8 Axios Request Error:",e),e}),a.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){if(s)return new Promise((e,t)=>{n.push({resolve:t=>{r.headers=r.headers||{},e(a(r))},reject:t})});r._retry=!0,s=!0;try{return await a.post("/auth/refresh"),o(null,null),a(r)}catch(e){throw o(e,null),window.location.href="/login",e}finally{s=!1}}throw e})}},e=>{e.O(0,[941,432,475,326,585,358],()=>e(e.s=2290)),_N_E=e.O()}]);