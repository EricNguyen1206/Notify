(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{2390:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>l,_q:()=>u,rU:()=>c});var s=r(8527),a=r(8914);let n=async e=>{let{data:t}=await a.u.post("/auth/signin",e);return t},o=async e=>{let{data:t}=await a.u.post("/auth/signup",e);return t},i=async()=>{let{data:e}=await a.u.post("/auth/signout");return e},l=e=>(0,s.n)({mutationKey:["auth","signin"],mutationFn:n,...e}),c=e=>(0,s.n)({mutationKey:["auth","signup"],mutationFn:o,...e}),u=e=>(0,s.n)({mutationKey:["auth","signout"],mutationFn:i,...e})},8914:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});let s=r(2159).A.create({baseURL:"http://localhost:8080/api/v1",timeout:1e4,withCredentials:!0}),a=!1,n=[],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.forEach(r=>{e?r.reject(e):r.resolve(t)}),n=[]};s.interceptors.request.use(e=>e,e=>{throw console.error("\uD83D\uDEA8 Axios Request Error:",e),e}),s.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){if(a)return new Promise((e,t)=>{n.push({resolve:t=>{r.headers=r.headers||{},e(s(r))},reject:t})});r._retry=!0,a=!0;try{return await s.post("/auth/refresh"),o(null,null),s(r)}catch(e){throw o(e,null),window.location.href="/login",e}finally{a=!1}}throw e})},9228:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(9611),a=r(2390),n=r(7766),o=r(6475),i=r.n(o),l=r(6796),c=r(8011),u=r(338);let d=()=>{let[e,t]=(0,c.useState)("admin@notify.com"),[r,o]=(0,c.useState)("123456"),d=(0,l.useRouter)(),h=(0,n.jE)(),m=(0,a.Dx)({onSuccess:()=>{h.invalidateQueries({queryKey:["user","current"]}),u.oR.success("Sign in successfully"),d.push("/messages")},onError:e=>{u.oR.error("An error occurred during sign in")}});return(0,s.jsxs)("form",{className:"flex flex-col gap-chat-gutter w-[100%] md:w-auto p-chat-outer",onSubmit:t=>{t.preventDefault(),m.mutate({email:e,password:r})},children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,s.jsx)("h1",{className:"text-xl font-medium text-white",children:"Welcome back!"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 font-normal",children:"We're so excited to see you again!"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-400",children:"EMAIL OR PHONE NUMBER"}),(0,s.jsx)("input",{className:"w-auto md:w-[450px] outline-none p-3 bg-primary-black text-white rounded-chat border border-chat-border focus:border-chat-primary transition-colors",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-400",children:"PASSWORD"}),(0,s.jsx)("input",{className:"w-auto md:w-[450px] outline-none p-3 bg-primary-black text-white rounded-chat border border-chat-border focus:border-chat-primary transition-colors",type:"password",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,s.jsx)(i(),{href:"/forgot-password",children:(0,s.jsx)("p",{className:"text-xs text-chat-accent hover:underline hover:underline-offset-1 font-normal",children:"Forgot your password?"})}),(0,s.jsx)("button",{type:"submit",className:"bg-chat-primary text-white py-3 rounded-chat font-medium hover:bg-chat-secondary transition-colors disabled:opacity-50",disabled:m.isPending,children:m.isPending?"Loading...":"Log In"}),(0,s.jsxs)("div",{className:"text-xs flex items-center gap-1 font-normal",children:[(0,s.jsx)("p",{className:"text-gray-400",children:"Need an account?"}),(0,s.jsx)(i(),{href:"/register",children:(0,s.jsx)("p",{className:"text-chat-accent hover:underline hover:underline-offset-1",children:"Register"})})]})]})}},9512:(e,t,r)=>{Promise.resolve().then(r.bind(r,9228))}},e=>{e.O(0,[941,432,475,326,585,358],()=>e(e.s=9512)),_N_E=e.O()}]);